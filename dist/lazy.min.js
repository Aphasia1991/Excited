!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Lazy=e():t.Lazy=e()}(this,function(){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(6),o=i(r);e["default"]=o["default"]},function(t,e){"use strict";t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var n=this[e];n[2]?t.push("@media "+n[2]+"{"+n[1]+"}"):t.push(n[1])}return t.join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var i={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(i[o]=!0)}for(r=0;r<e.length;r++){var s=e[r];"number"==typeof s[0]&&i[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),t.push(s))}},t}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={props:{method:Function,offset:{type:Number,"default":0},limit:{type:Number,"default":10},bottom:{type:Number,"default":300},tips:{type:Object,"default":function(){return{waiting:"",loading:"正在加载...",error:"加载失败，点此重新加载",done:"没有更多了哦~"}}}},data:function(){return{status:"waiting",offsetTemp:0,scrollTimer:null,flagElement:window}},computed:{renderText:function(){return this.tips[this.status]}},watch:{offset:function(t){return 0===t?(this.rmEvent(),this.status="waiting"):t===this.limit?this.addEvent():t<this.limit?this.rmEvent():void 0}},methods:{loadData:function(){var t=this;this.offsetTemp=this.offset,this.status="loading",this.method().then(function(){setTimeout(function(){return t.offset-t.offsetTemp<t.limit?t.rmEvent():void(t.status="waiting")},500)})["catch"](function(){t.status="error"})},lazyLoadData:function(){var t=this.flagElement===window?document.documentElement:this.flagElement,e=t.offsetHeight-t.clientHeight-this.getScrollTop();e<this.bottom&&this.loadData()},reloadEvent:function(){"error"===this.status&&this.loadData()},scrollEvent:function(){"waiting"!==this.status||this.offset<this.limit||(clearTimeout(this.scrollTimer),this.scrollTimer=setTimeout(this.lazyLoadData,100))},addEvent:function(){this.status="waiting",this.flagElement.addEventListener("scroll",this.scrollEvent)},rmEvent:function(){this.flagElement.removeEventListener("scroll",this.scrollEvent),this.status="done"},getScrollTop:function(){return this.flagElement===window?window.pageYOffset:this.flagElement.scrollTop},getLazyFlag:function(){for(var t=function(t){return"HTML"!==t.tagName&&"BODY"!==t.tagName&&1===t.nodeType},e=function(t){return"string"==typeof t.getAttribute("lazy-flag")},n=this.$el.parentNode;t(n);){if(e(n))return n;n=n.parentNode}return window}},events:{initLazy:function(){0===this.offset&&this.loadData()}},ready:function(){this.flagElement=this.getLazyFlag(),this.offset===this.limit&&this.addEvent()},destroyed:function(){this.rmEvent()}}},function(t,e,n){e=t.exports=n(1)(),e.push([t.id,".lazy-wrap[_v-0aff474a]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;height:1.066667rem;color:#555;font-size:.346667rem}.lazy-wrap img[_v-0aff474a]{display:block;margin-right:.2rem;width:.4rem;height:.4rem;-webkit-transform-origin:50% 50%;transform-origin:50% 50%;-webkit-animation:lazy-icon 1s linear infinite;animation:lazy-icon 1s linear infinite}@-webkit-keyframes lazy-icon{to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes lazy-icon{to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}",""])},function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjQiIGhlaWdodD0iNjQiIHZpZXdCb3g9IjAgMCA2NCA2NCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNNjAgMzZoLThjLTIuMjAzIDAtNC0xLjc5Ny00LTQgMC0yLjIwOCAxLjc5Ny00IDQtNGg4YzIuMjAzIDAgNCAxLjc5MiA0IDQgMCAyLjIwMy0xLjc5NyA0LTQgNHpNNDguOTczIDIwLjY4NmE0IDQgMCAwIDEtNS42NiAwIDMuOTk1IDMuOTk1IDAgMCAxIDAtNS42NTVsNS42Ni01LjY1NGEzLjk5IDMuOTkgMCAwIDEgNS42NSAwIDQgNCAwIDAgMSAwIDUuNjU1bC01LjY1IDUuNjU2ek0zMiA2NGE0IDQgMCAwIDEtNC00di04YTQgNCAwIDAgMSA0LTRjMi4yMDMgMCA0IDEuNzk3IDQgNHY4YzAgMi4yMDMtMS43OTcgNC00IDR6bTAtNDhjLTIuMjEyIDAtNC0xLjc5Mi00LTRWNGMwLTIuMjA4IDEuNzg4LTQgNC00IDIuMjAzIDAgNCAxLjc5MiA0IDR2OGMwIDIuMjA4LTEuNzk3IDQtNCA0ek0xNS4wMyA1NC42MjRhMy45OTUgMy45OTUgMCAwIDEtNS42NTQgMCAzLjk5IDMuOTkgMCAwIDEgMC01LjY1bDUuNjU1LTUuNjZhMy45OTUgMy45OTUgMCAwIDEgNS42NTYgMCA0LjAwNCA0LjAwNCAwIDAgMSAwIDUuNjZsLTUuNjU1IDUuNjV6bTAtMzMuOTM4TDkuMzczIDE1LjAzYTMuOTk1IDMuOTk1IDAgMCAxIDAtNS42NTQgNCA0IDAgMCAxIDUuNjU0IDBsNS42NTUgNS42NTVhMy45OTUgMy45OTUgMCAwIDEgMCA1LjY1NiAzLjk5IDMuOTkgMCAwIDEtNS42NSAwek0xNiAzMmE0IDQgMCAwIDEtNCA0SDRhNCA0IDAgMCAxLTQtNGMwLTIuMjA4IDEuNzg4LTQgNC00aDhhNCA0IDAgMCAxIDQgNHptMzIuOTczIDExLjMxNGw1LjY1IDUuNjZhMy45OSAzLjk5IDAgMCAxIDAgNS42NWMtMS41NjMgMS41Ni00LjA5NSAxLjU2NC01LjY1IDBsLTUuNjYtNS42NWE0IDQgMCAwIDEgMC01LjY2IDQgNCAwIDAgMSA1LjY2IDB6IiBmaWxsPSIjNTU1IiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4K"},function(t,e,n){t.exports=' <div class=lazy-wrap v-show=renderText @click=reloadEvent _v-0aff474a=""> <img src='+n(4)+' v-show="status === \'loading\'" _v-0aff474a=""> <span class=lazy-text _v-0aff474a="">{{ renderText }}</span> </div> '},function(t,e,n){var i,r;n(8),i=n(2),r=n(5),t.exports=i||{},t.exports.__esModule&&(t.exports=t.exports["default"]),r&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=r)},function(t,e,n){function i(t,e){for(var n=0;n<t.length;n++){var i=t[n],r=c[i.id];if(r){r.refs++;for(var o=0;o<r.parts.length;o++)r.parts[o](i.parts[o]);for(;o<i.parts.length;o++)r.parts.push(u(i.parts[o],e))}else{for(var s=[],o=0;o<i.parts.length;o++)s.push(u(i.parts[o],e));c[i.id]={id:i.id,refs:1,parts:s}}}}function r(t){for(var e=[],n={},i=0;i<t.length;i++){var r=t[i],o=r[0],s=r[1],a=r[2],u=r[3],f={css:s,media:a,sourceMap:u};n[o]?n[o].parts.push(f):e.push(n[o]={id:o,parts:[f]})}return e}function o(t,e){var n=p(),i=m[m.length-1];if("top"===t.insertAt)i?i.nextSibling?n.insertBefore(e,i.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),m.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(e)}}function s(t){t.parentNode.removeChild(t);var e=m.indexOf(t);e>=0&&m.splice(e,1)}function a(t){var e=document.createElement("style");return e.type="text/css",o(t,e),e}function u(t,e){var n,i,r;if(e.singleton){var o=N++;n=h||(h=a(e)),i=f.bind(null,n,o,!1),r=f.bind(null,n,o,!0)}else n=a(e),i=l.bind(null,n),r=function(){s(n)};return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else r()}}function f(t,e,n,i){var r=n?"":i.css;if(t.styleSheet)t.styleSheet.cssText=A(e,r);else{var o=document.createTextNode(r),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(o,s[e]):t.appendChild(o)}}function l(t,e){var n=e.css,i=e.media,r=e.sourceMap;if(i&&t.setAttribute("media",i),r&&(n+="\n/*# sourceURL="+r.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */"),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}var c={},d=function(t){var e;return function(){return"undefined"==typeof e&&(e=t.apply(this,arguments)),e}},g=d(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),p=d(function(){return document.head||document.getElementsByTagName("head")[0]}),h=null,N=0,m=[];t.exports=function(t,e){e=e||{},"undefined"==typeof e.singleton&&(e.singleton=g()),"undefined"==typeof e.insertAt&&(e.insertAt="bottom");var n=r(t);return i(n,e),function(t){for(var o=[],s=0;s<n.length;s++){var a=n[s],u=c[a.id];u.refs--,o.push(u)}if(t){var f=r(t);i(f,e)}for(var s=0;s<o.length;s++){var u=o[s];if(0===u.refs){for(var l=0;l<u.parts.length;l++)u.parts[l]();delete c[u.id]}}}};var A=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()},function(t,e,n){var i=n(3);"string"==typeof i&&(i=[[t.id,i,""]]);n(7)(i,{});i.locals&&(t.exports=i.locals)}])});